@using Mari.Client.Models.Comments
@using Mari.Contracts.Comments.Responses
@inject ICommentManager CommentManager

<MudPaper Elevation="0" Class="pt-2">
    <MudStack > <!--TODO убрать дублирование кода-->
        @foreach (var item in SystemComments)
        {
            <MudPaper Class="border-b pl-4 pb-4" Elevation="0">
                <MudPaper Class=" d-flex" Elevation="0">
                    <MudAvatar Color="Color.Primary">M</MudAvatar>
                    <MudPaper Class="d-flex align-center pl-4" Elevation="0">
                       <MudText>@item.UserName</MudText>    
                    </MudPaper>
                </MudPaper>
                <MudPaper Elevation="0">
                    <MudText>@item.CreateDate.ToString()</MudText>
                </MudPaper>
                <MudPaper Elevation="0">
                    <MudText>Действие: @item.Message</MudText>
                </MudPaper>
            </MudPaper>
        }
    </MudStack> 
</MudPaper>

@code {


    
    List<CommentResponse> SystemComments { get; set; }


    protected override async Task OnInitializedAsync()
    {
        //SystemComments = await CommentManager.GetAllSystemComment();
        
    // TODO Тестовые данные
        SystemComments = new List<CommentResponse>()
        {
            new CommentResponse(Guid.NewGuid(), Guid.NewGuid(), 1, "Араб", "GG", "15.11.2022", false),
            new CommentResponse(Guid.NewGuid(), Guid.NewGuid(), 1, "Араб", "GG", "15.11.2022", false),
            new CommentResponse(Guid.NewGuid(), Guid.NewGuid(), 1, "Араб", "GG", "15.11.2022", false),
            new CommentResponse(Guid.NewGuid(), Guid.NewGuid(), 1, "Араб", "GG", "15.11.2022", false),

        };
    }
}